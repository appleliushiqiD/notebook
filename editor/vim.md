# 笔记：关于 Vim 编辑器

**基础内容参考总结自 Vim tutor**  

### 基础教程 vimtutor

- 光标移动  
  - `h / j / k / l` : 左/下/上/右移光标  
  - `w` : 光标移动到下一词头，跨行  
  - `e` : 光标移动到下一词尾，跨行  
  - `0` : 光标移动至行首  
  - 左右移动光标不会换行  
- 退出编辑器  
  - `:q!` : 正常（normal）模式下，强制放弃所有改动退出编辑器  
  - `:wq` : 正常模式下，保存改动并退出  
- `Esc` ： 回到正常模式或者撤销一个不想输入或部分完整的命令  
- 命令和对象  
  - 许多文本编辑的命令由操作符和动作组成，如删除命令 `d <motion>` 由操作符`d`和操作对象`motion`组成  
- 重复操作  
  - `2w` : 光标向后移动两个词的位置，并置于词头  
  - `3e` : 光标向后移动3个词，并置于词尾  
  - `d <num> <motion>` : 重复删除操作  
- 执行外部shell命令  
 - `:!<cmd>` : 执行`op`命令  
 - 使用命令行Vim会在当前窗口执行命令，使用gvim会创建一个临时shell执行命令  
- `Ctrl-w Ctrl-w` : 在窗口间跳转光标  
- `Ctrl-d` `Tab` : 补全内容  
- `:edit <fn>` : 编辑文件内容  

#### 文本编辑

- 删除
  - `x` : 在正常（normal）模式下，删除光标所在位置的字符
  - `dw` : 删除光标处至下一个词的起始处（删除词之间的间隔）  
  - `de` : 删除光标处至词尾（不删除词之间的间隔）  
  - `d$` : 删除光标到行尾内容  
  - `dd` : 删除整行内容，包括换行  
- 插入  
  - `i` : 光标位置开始插入模式  
  - `a` : 光标位置后开始插入模式  
  - `A` : 光标行末尾开始插入模式  
  - `o` / `O` : 光标后 / 前新起空白一行并进入插入模式  
  - 以上方法只对插入的内容进行编辑，但可以被影响（`DEL` 只删除插入内容，当`delete`影响时，被更改的内容都能被`DEL`）  
- 撤销  
  - `u` : 撤销最后一次命令  
  - `U` : 撤销对整行的修改  
- 重做  
  - `Ctrl-r` : 重做撤销的命令  
- 置入  
  - `p` : 最后删除的内容放入光标（光标占位的后面）后，整行内容则后方新起一行  
- 替换  
  - `r` : 替换光标处单字符内容  
  - `R` : 连续替换，使用`DEL`撤销替换（对更改的内容有效）  
  - `:s/old/new` : 替换光标行第一个匹配项`old`为`new`  
  - `:s/old/new/g` : 替换光标行所有匹配项`old`为`new`  
  - `:<num1>,<num2>s/old/new/g` : 替换num1与num2行间匹配项`old`为`new`  
  - `:%s/old/new/g` : 替换整个文件匹配项`old`为`new`  
  - `:%s/old/new/gc` : 询问替换整个文件匹配项`old`为`new`  
- 更改  
  - `cw` / `ce` : 删除光标到词尾内容，进入插入模式  
  - 更改命令同删除命令，可以使用`$`对象和重复操作  
- 保存  
  - `:w` : 保存内容  
  - `:w <fn>` : 另存内容到文件fn  
  - `v <motion> :w <fn>` : 选中部分保存到文件  
- 选中  
  - `v` : 使用后移动关闭进行选中  
  - 使用组合命令，如`:w <fn>` `d`  
- 提取内容  
  - `:r <fn>` : 读取文件内容到光标处  
  - `:r !<cmd>` : 读取shell命令的输出到光标处  
- 复制与粘贴  
  - `y` : 复制内容  
  - `p` : 粘贴内容  
  - 使用`yw` `ye`等组合

#### 窗口内容

- 文件状态与行标跳转  
  - `Ctrl-g` : 显示当前行位置与文件状态信息  
  - `G` : 光标跳转到文件最后一行  
  - `gg` : 光标跳转到文件第一行  
  - `<num> G` : 光标跳转到指定num行  
- 搜索  
  - `/` : 向后查找字符串  
  - `?` : 向前查找字符串  
  - `n` / `N` : 查找下一个匹配项，依照匹配方向  
- 光标前进与后退  
 - `Ctrl-o` : 回退光标位置  
 - `Ctrl-i` : 前进光标位置  
- 匹配符号查找  
  - `%` : 查找匹配的符号对，并转移光标位置  

#### 设置类命令

- `:set <op>` : 设置内容  
  - `ic` `ignorecase` : 忽略大小写（ignore case）  
  - `is` `incsearch` : 查找时显示部分匹配
  - `hls` `hlsearch` : 高亮搜索项  
- `no` : 取消设置内容，如`nohls`    
- `/<str>\c` : 单次搜索忽略大小写  

#### 帮助

- 使用`HELP` `F1` `:help`显示在线帮助系统  
- `:help <op>` : 查询对于操作的帮助  

#### 脚本

- Vim脚本由（windows安装位置的）`_vimrc`（或者unix的`.vimrc`）文件设置  
- `:help vomrc-intro` : 获取相关帮助  
